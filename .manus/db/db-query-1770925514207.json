{
  "query": "CREATE TABLE IF NOT EXISTS `fileShares` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL,\n  `fileId` int NOT NULL,\n  `shareToken` varchar(100) NOT NULL UNIQUE,\n  `expiresAt` timestamp,\n  `accessCount` int DEFAULT 0 NOT NULL,\n  `maxAccessCount` int,\n  `password` varchar(255),\n  `isActive` boolean DEFAULT true NOT NULL,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  `lastAccessedAt` timestamp,\n  CONSTRAINT `fileShares_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `achievements` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `name` varchar(200) NOT NULL,\n  `description` text NOT NULL,\n  `icon` varchar(100),\n  `category` enum('game', 'storage', 'email', 'social', 'milestone') NOT NULL,\n  `condition` json NOT NULL,\n  `points` int DEFAULT 10 NOT NULL,\n  `isSecret` boolean DEFAULT false NOT NULL,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  CONSTRAINT `achievements_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `userAchievements` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL,\n  `achievementId` int NOT NULL,\n  `earnedAt` timestamp NOT NULL DEFAULT (now()),\n  `progress` int DEFAULT 100 NOT NULL,\n  CONSTRAINT `userAchievements_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `twoFactorAuth` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL UNIQUE,\n  `secret` varchar(255) NOT NULL,\n  `backupCodes` json NOT NULL,\n  `isEnabled` boolean DEFAULT false NOT NULL,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  `lastUsedAt` timestamp,\n  CONSTRAINT `twoFactorAuth_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `activityLogs` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL,\n  `action` varchar(100) NOT NULL,\n  `category` enum('auth', 'file', 'email', 'game', 'payment', 'settings', 'api') NOT NULL,\n  `description` text,\n  `ipAddress` varchar(45),\n  `userAgent` text,\n  `metadata` json,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  CONSTRAINT `activityLogs_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `apiKeys` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL,\n  `name` varchar(200) NOT NULL,\n  `keyHash` varchar(255) NOT NULL UNIQUE,\n  `keyPrefix` varchar(20) NOT NULL,\n  `permissions` json NOT NULL,\n  `rateLimit` int DEFAULT 1000 NOT NULL,\n  `requestCount` int DEFAULT 0 NOT NULL,\n  `lastUsedAt` timestamp,\n  `expiresAt` timestamp,\n  `isActive` boolean DEFAULT true NOT NULL,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  CONSTRAINT `apiKeys_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `emailStoragePlans` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL,\n  `tier` enum('free', '25gb', '50gb', '100gb', 'unlimited') DEFAULT 'free' NOT NULL,\n  `status` enum('active', 'cancelled', 'expired') DEFAULT 'active' NOT NULL,\n  `stripeSubscriptionId` varchar(255),\n  `currentPeriodEnd` timestamp,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  `updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `emailStoragePlans_id` PRIMARY KEY(`id`)\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 3zi9SS7LHoe5L4D.0c0efd27f0c1 --database NAAb8kuuPdPYhzAyGHkU6a --execute CREATE TABLE IF NOT EXISTS `fileShares` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL,\n  `fileId` int NOT NULL,\n  `shareToken` varchar(100) NOT NULL UNIQUE,\n  `expiresAt` timestamp,\n  `accessCount` int DEFAULT 0 NOT NULL,\n  `maxAccessCount` int,\n  `password` varchar(255),\n  `isActive` boolean DEFAULT true NOT NULL,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  `lastAccessedAt` timestamp,\n  CONSTRAINT `fileShares_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `achievements` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `name` varchar(200) NOT NULL,\n  `description` text NOT NULL,\n  `icon` varchar(100),\n  `category` enum('game', 'storage', 'email', 'social', 'milestone') NOT NULL,\n  `condition` json NOT NULL,\n  `points` int DEFAULT 10 NOT NULL,\n  `isSecret` boolean DEFAULT false NOT NULL,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  CONSTRAINT `achievements_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `userAchievements` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL,\n  `achievementId` int NOT NULL,\n  `earnedAt` timestamp NOT NULL DEFAULT (now()),\n  `progress` int DEFAULT 100 NOT NULL,\n  CONSTRAINT `userAchievements_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `twoFactorAuth` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL UNIQUE,\n  `secret` varchar(255) NOT NULL,\n  `backupCodes` json NOT NULL,\n  `isEnabled` boolean DEFAULT false NOT NULL,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  `lastUsedAt` timestamp,\n  CONSTRAINT `twoFactorAuth_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `activityLogs` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL,\n  `action` varchar(100) NOT NULL,\n  `category` enum('auth', 'file', 'email', 'game', 'payment', 'settings', 'api') NOT NULL,\n  `description` text,\n  `ipAddress` varchar(45),\n  `userAgent` text,\n  `metadata` json,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  CONSTRAINT `activityLogs_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `apiKeys` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL,\n  `name` varchar(200) NOT NULL,\n  `keyHash` varchar(255) NOT NULL UNIQUE,\n  `keyPrefix` varchar(20) NOT NULL,\n  `permissions` json NOT NULL,\n  `rateLimit` int DEFAULT 1000 NOT NULL,\n  `requestCount` int DEFAULT 0 NOT NULL,\n  `lastUsedAt` timestamp,\n  `expiresAt` timestamp,\n  `isActive` boolean DEFAULT true NOT NULL,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  CONSTRAINT `apiKeys_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `emailStoragePlans` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL,\n  `tier` enum('free', '25gb', '50gb', '100gb', 'unlimited') DEFAULT 'free' NOT NULL,\n  `status` enum('active', 'cancelled', 'expired') DEFAULT 'active' NOT NULL,\n  `stripeSubscriptionId` varchar(255),\n  `currentPeriodEnd` timestamp,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  `updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `emailStoragePlans_id` PRIMARY KEY(`id`)\n);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 2401
}